{% extends "base.html" %}
{% load humanize %}
<!-- This sets the page title in base.html -->
{% block title %}EVE Waitlist - Home{% endblock %}

<!-- These styles are specific to the homepage -->
{% block styles %}
.container {
    text-align: center;
    /* We add padding to account for the fixed header */
    padding-top: 40px;
}

.login-btn {
    display: inline-block;
    padding: 15px 30px;
    margin-top: 20px;
    background-color: #3b5998;
    color: #fff;
    text-decoration: none;
    font-size: 1.2em;
    font-weight: bold;
    border-radius: 5px;
    transition: background-color 0.3s;
}
.login-btn:hover { background-color: #4e71bb; }

.button-group {
    margin-top: 20px;
    display: flex;
    gap: 15px;
    justify-content: center;
}

.admin-btn,
.logout-btn {
    display: inline-block;
    padding: 10px 20px;
    color: #fff;
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.3s;
}

.logout-btn { background-color: #993333; }
.logout-btn:hover { background-color: #b33a3a; }
.admin-btn { background-color: #339966; }
.admin-btn:hover { background-color: #3caa73; }
.add-alt-btn { background-color: #3b5998; }
.add-alt-btn:hover { background-color: #4e71bb; }
.fc-btn { background-color: #cc6600; }
.fc-btn:hover { background-color: #ff8000; }
{% endblock %}


<!-- This content is injected into base.html's content block -->
{% block content %}
<div class="container">
    <h1>EVE Online Waitlist</h1>

    {% if user.is_authenticated %}

    <p>Welcome, <strong>{{ user.first_name }}</strong>!</p>

    <!-- All the admin/management buttons -->
    <div class="button-group">
        {% if user.is_staff %}
        <a href="{% url 'admin:index' %}" class="admin-btn">Admin Panel</a>
        <a href="{% url 'esi_auth:login' %}?scopes=fc" class="admin-btn fc-btn">Update FC Scopes</a>
        {% endif %}

        <a href="{% url 'esi_auth:login' %}" class="admin-btn add-alt-btn">Add Character</a>
        <a href="{% url 'esi_auth:logout' %}" class="logout-btn">Log Out</a>
    </div>

    {% else %}
    <!-- Show this if the user is NOT logged in -->
    <p>Please log in with EVE SSO to join the waitlist.</p>

    <a href="{% url 'esi_auth:login' %}" class="login-btn">
        Log In with EVE Online
    </a>
    {% endif %}
</div>
{% endblock %}